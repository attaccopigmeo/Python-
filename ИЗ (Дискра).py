# Вариант 29
# №1
def create_set(L): # Кодируем мн-ва, превращая их в двоичные числа, где i-й бит обознач. есть ли число в мн-ве
    a = 0
    for x in L:
        a += 1 << x
    return a


def restore(a): # Восстанавливаем списки элементов
    L = []
    n = 0
    while a != 0:
        has = a % 2
        if has == 1:
            L.append(n)
        a //= 2
        n += 1
    return L


A = [1, 2, 5, 9, 14, 17, 19, 23, 25, 26, 27, 28, 30, 34, 35, 39, 41, 42, 43, 44, 45, 49, 50]
B = [3, 4, 6, 7, 10, 13, 15, 20, 22, 24, 25, 26, 27, 29, 30, 34, 35, 36, 38, 39, 41, 44, 48, 49]
C = [4, 5, 14, 17, 18, 19, 20, 21, 23, 29, 30, 31, 33, 34, 35, 36, 38, 42, 44, 45]
D = [2, 5, 6, 7, 9, 10, 11, 13, 14, 16, 17, 20, 21, 22, 23, 25, 28, 29, 31, 32, 33, 34, 36, 37, 40, 42, 43, 44, 45, 47, 49]
a = create_set(A)
b = create_set(B)
c = create_set(C)
d = create_set(D)

res1 = ((a & b) | a) ^ ((((c & a) & (~(b ^ a))) & ((b ^ c) & (~((c | b) ^ a)))) | ((c & (~d)) & (a & d)))
res2 = (((d ^ c) | a) & ((d & b) & d)) ^ (((c & d) & ((a ^ b) ^ a)) | ((d & b) & ((d | a) & d)))
res3 = (((a & (~d)) & ((d & (~c)) & ((a & (~b)) ^ a))) & ((b & c) & (d | b))) & (~((c & (~a)) & (~((b & d) ^ b))))

print(restore(res1))
print(restore(res2))
print(restore(res3))
# ___________________________
# №2
# (7 - 7 * x + 4 * x ** 3 - 3 * x ** 6) ** 10
def factorial(n, s = 1):
    if n >= 1:
        s = s * n
        return factorial(n - 1, s)
    return s


def multinomial(a, b, c, d):
    return factorial(a + b + c + d) // (factorial(a) * factorial(b) * factorial(c) * factorial(d))


for i in range(0, 61, 1):
    s = 0 # Коэффициент
    for k in range(0, 11, 1):
        for m in range(0, 11 - k, 1):
            for n in range(0, 11 - k - m, 1):
                l = 10 - k - m - n
                if l < 0:
                    continue
                if k + 3 * m + 6 * n != i:
                    continue
                s += multinomial(k, l, n, m) * 7 ** l * (-7) ** k * 4 ** m * (-3) ** n
    print(s)
#[1, 2, 5, 9, 14, 17, 19, 23, 25, 26, 27, 28, 30, 34, 35, 39, 41, 42, 43, 44, 45, 49, 50]
#[20, 29, 36]
#[]

#282475249
#-2824752490
#12711386205
#-32282885600
#44792503770
#-13074568668
#-73328268720
#147175369530
#-118034300475
#2116505510
#85716826069
#-106879410540
#134628691925
#-161085010800
#70487045370
#108029311866
#-178841774370
#106815880080
#-60879323820
#69839135520
#1621993149
#-118317177720
#114088399320
#-25658032680
#6407710890
#-24636738420
#-19230338610
#62661888520
#-30826773250
#-6619789260
#-3907248026
#8263726380
#14061531960
#-17480740440
#470235780
#2376113292
#3877940610
#-79856280
#-4675878900
#1488634200
#956251170
#600112800
#-689041080
#-621545400
#450084600
#147333816
#34292160
#-154314720
#-34521795
#59245830
#14467005
#-262440
#-16533720
#0
#3346110
#1377810
#0
#-787320
#0
#0
#59049